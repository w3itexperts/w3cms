!function(e){"use strict";var t=jQuery("#customFieldContainer .Newfild").length,r=t=parseInt(t,10);function o(){jQuery(".CustomFieldRemoveButton").on("click",(function(){var t=jQuery(this).attr("rel");""!=t&&void 0!==t?(url=baseUrl+"admin/blog/blogs/ajax_delete/"+t,e.ajax({url:url,type:"POST",dataType:"json",success:function(e){jQuery(".swaprow_"+t).css("background-color","red").fadeOut("slow",(function(){jQuery(this).remove()}))}})):jQuery(this).closest(".xrow").css("background-color","red").fadeOut("slow",(function(){jQuery(this).remove()})),0==jQuery("#AppendContainer .row").length&&jQuery("#customFieldContainer").hide("slow").remove()}))}r=t+1,o(),jQuery("#AddCustomField").on("click",(function(){r+=1;var e=parseInt(jQuery("#last_cf_num").val()),n=jQuery("#BlogMetaName").val(),a=jQuery("#BlogMetaValue").val();if(""===jQuery.trim(n)&&jQuery.trim(""===a))alert("Please fill these fields.");else{t+=1;var l='<div class="row xrow pt-3 mb-2 bg-light "> <div class="col-md-6 form-group"> <label for="BlogMetaName_'+(r=e>0?e+1:r)+'">Title</label> <input type="text" name="data[BlogMeta]['+r+'][title]" class="form-control" id="BlogMetaName_'+r+'" value="'+n+'"> </div> <div class="col-md-6 form-group"> <label for="">Value</label> <textarea name="data[BlogMeta]['+r+'][value]"" id="BlogMetaValue_'+r+'" class="form-control" rows="5">'+a+'</textarea> </div> <div class="col-md-12 form-group"> <button class="btn btn-danger btn-sm CustomFieldRemoveButton" type="button">Delete</button> </div> </div>';jQuery("#customFieldContainer").css("background-color","green").fadeIn("slow",(function(){jQuery("#customFieldContainer").append(l),jQuery("#customFieldContainer").delay(800).fadeIn(400).removeAttr("style")})),jQuery("#BlogMetaName").val(""),jQuery("#BlogMetaValue").val(""),jQuery("#last_cf_num").val(r)}o()})),jQuery(".allowField").on("click",(function(){var e=jQuery(this).attr("rel");if(1==jQuery(this).prop("checked")){jQuery(".X"+e).removeClass("d-none");var t=1}else t=0,jQuery(".X"+e).addClass("d-none");var r=new Date;r.setDate(r.getDate()+30),document.cookie="isCheck_"+e+"="+t+"; expires="+r.toGMTString()+"path=/"})),function(){if("undefined"==typeof screenOptionArray)return!1;var e=JSON.parse(screenOptionArray);jQuery.each(e,(function(e,t){jQuery.each(t,(function(t,r){var o=function(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),o=0;o<r.length;o++){for(var n=r[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}("isCheck_"+e);1==(o=parseInt(o,10))?(jQuery(".X"+e).removeClass("d-none"),jQuery(".Allow"+e).prop("checked",!0)):0==o&&(jQuery(".X"+e).addClass("d-none"),jQuery(".Allow"+e).prop("checked",!1))}))}))}(),jQuery(".editPermalinkContainer").hide(),jQuery(".editPermalink").on("click",(function(){var e=jQuery(".permalinkSlugSpan").text();jQuery(".permalinkSlugSpan").hide("slow"),jQuery(".editPermalink").hide("slow"),jQuery("#BlogEditSlug").val(e),jQuery(".editPermalinkContainer").show("slow")})),jQuery(".editPermalinkOkButton").on("click",(function(){var t=jQuery("#BlogEditSlug").val();e.ajax({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},url:makeSlugUrl,type:"POST",data:{slug_text:t},dataType:"html",success:function(e){jQuery(".permalinkSlugSpan").text(e),jQuery("#slug").val(e),jQuery(".editPermalinkContainer").hide("slow"),jQuery(".permalinkSlugSpan").show("slow"),jQuery(".editPermalink").show("slow")}})})),jQuery(".editPermalinkCancelButton").on("click",(function(){jQuery(".editPermalinkContainer").hide("slow"),jQuery(".permalinkSlugSpan").show("slow"),jQuery(".editPermalink").show("slow")})),"undefined"!=typeof blogCategoryIds&&function(e){if(""!=jQuery.trim(e)){var t=JSON.parse(e);jQuery.each(t,(function(e,t){jQuery(".blog_categories").each((function(){jQuery(this).val()==t&&jQuery(this).prop("checked",!0)}))}))}}(blogCategoryIds),jQuery(".newCategoryDiv").hide(),jQuery(".addNewBlogCategorylink").on("click",(function(){jQuery(this).closest(".card").find(".newCategoryDiv").toggle("slow")})),jQuery(".addNewBlogCategoryBtn").on("click",(function(){var t=jQuery(this).closest(".card"),r=t.find(".newCategoryField").val(),o=t.find(".CategoryParentId :selected").val(),n=t.find(".rdx-link").val();""!=r&&""!=n&&e.ajax({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},url:n,type:"POST",data:{title:r,parent_id:o},dataType:"html",success:function(e){jQuery(".BlogCategory"+o).length>0?jQuery(".BlogCategory"+o).after().append(e):t.find(".appendCategory  ul:first").append(e),setTimeout((function(){t.find(".newCategoryField").val(""),t.find(".CatNotExit").remove()}),1e3)}})})),jQuery("#BlogTitle").slug({hide:!1}),jQuery(document).on("change","#ContentVisibility",(function(){"PP"==jQuery(this).val()?(jQuery("#PublicPasswordTextbox").slideDown("slow").removeClass("d-none"),jQuery("#ContentPassword").focus()):(jQuery("#PublicPasswordTextbox").slideUp("slow",(function(){jQuery("#PublicPasswordTextbox").addClass("d-none")})),jQuery("#PublicPasswordTextbox").val(" "))}))}(jQuery);