!function($){"use strict";function addMoreGroupedSection(e=0,t=null){if(t)var n=jQuery(t).parent("#W3OptionsGroupedSectionWapper").find(".W3OptionsGroupedSection:first");else var n=jQuery(".W3OptionsGroupedSection:first");var i=n.clone().appendTo("#W3OptionsGroupedSectionWapper").show();n.hide(),i.find("input").val(""),i.find("textarea").val(""),i=(i=(i=n.html()).replace(/%KEY%/g,e)).replace(/data-bsx/g,"data-bs"),t?jQuery(t).parent("#W3OptionsGroupedSectionWapper").find(".W3OptionsGroupedSection:last").html(i):jQuery(".W3OptionsGroupedSection:last").html(i)}function addMoreGroupedSectionClick(){jQuery(".addMoreGroupedSection").on("click",function(){var e=jQuery(this).parent("#W3OptionsGroupedSectionWapper").find(".W3OptionsGroupedSection").length-1;addMoreGroupedSection(e,this),jQuery(this).parent("#W3OptionsGroupedSectionWapper").append(this)}),jQuery(".addMoreGroupedSection").each(function(){jQuery(this).parent("#W3OptionsGroupedSectionWapper").append(this)})}function handleBoxShadow(e){var t=$(e).closest(".BoxShadowContainer"),n=t.find(".inset-shadow").is(":checked")?"inset ":"",i=t.find(".drop-shadow").is(":checked")?"inset ":"";""==n?t.find(".inset-shadow-color, .inset-shadow-horizontal, .inset-shadow-vertical, .inset-shadow-blur, .inset-shadow-spread").prop("disabled",!0):t.find(".inset-shadow-color, .inset-shadow-horizontal, .inset-shadow-vertical, .inset-shadow-blur, .inset-shadow-spread").prop("disabled",!1),""==i?t.find(".drop-shadow-color, .drop-shadow-horizontal, .drop-shadow-vertical, .drop-shadow-blur, .drop-shadow-spread").prop("disabled",!0):t.find(".drop-shadow-color, .drop-shadow-horizontal, .drop-shadow-vertical, .drop-shadow-blur, .drop-shadow-spread").prop("disabled",!1);var o=t.find(".inset-shadow-color").val(),a=t.find(".inset-shadow-horizontal").val()+"px";t.find(".inset-horizontal-value").html(a);var s=t.find(".inset-shadow-vertical").val()+"px";t.find(".inset-vertical-value").html(s);var d=t.find(".inset-shadow-blur").val()+"px";t.find(".inset-blur-value").html(d);var r=t.find(".inset-shadow-spread").val()+"px";t.find(".inset-spread-value").html(r);var l=t.find(".drop-shadow-color").val(),h=t.find(".drop-shadow-horizontal").val()+"px";t.find(".drop-horizontal-value").html(h);var p=t.find(".drop-shadow-vertical").val()+"px";t.find(".drop-vertical-value").html(p);var c=t.find(".drop-shadow-blur").val()+"px";t.find(".drop-blur-value").html(c);var u=t.find(".drop-shadow-spread").val()+"px";if(t.find(".drop-spread-value").html(u),""!=n&""==i)var f=a+" "+s+" "+d+" "+r+" "+o+" inset";else if(""!=i&""==n)var f=h+" "+p+" "+c+" "+u+" "+l;else if(""!=i&""!=n)var f=h+" "+p+" "+c+" "+u+" "+l+" , "+a+" "+s+" "+d+" "+r+" "+o+" inset";else var f="none";t.find(".ShadowBoxPreview").css("transition","all 0.2s ease").css("box-shadow",f)}function w3OptionsDependField(elementThis){var el_id,el_name=jQuery(elementThis).data("depend-id"),el_value=jQuery(elementThis).val(),el_type=jQuery(elementThis).attr("type");if(void 0!=jQuery(elementThis).data("ajax_container")&&void 0!=jQuery(elementThis).data("ajax_url")){var ajax_container=jQuery(elementThis).data("ajax_container"),ajax_url=jQuery(elementThis).data("ajax_url"),param_name=ajax_container.replace("Container","");jQuery.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"Post",url:ajax_url,data:{element_id:element_id,content:el_value,param_name:param_name,elementData:serializedelementData},success:function(e){jQuery("#"+ajax_container).length>0&&jQuery("#"+ajax_container).html(e)}})}"checkbox"==el_type&&(el_value=$('input[data-depend-id="'+el_name+'"]:checked').map(function(){return $(this).val()}).get()),"radio"==el_type&&(el_value=$('input[data-depend-id="'+el_name+'"]:checked').map(function(){return $(this).val()}).get()),-1!==el_name.indexOf("[]")&&(el_name=el_name.replace("[]",""));var depend_el_common_class=el_name+"-depend";if(jQuery("."+depend_el_common_class).hide(),""==el_value)return!1;if(void 0==jQuery("."+depend_el_common_class).data(el_name+"-value"))jQuery("."+depend_el_common_class).hide(),jQuery("."+depend_el_common_class).removeClass("d-none").show();else{var firstOperent="string"==typeof el_value?'"'+el_value+'"':el_value;jQuery("."+depend_el_common_class).each(function(e){var condition,secondOperator=jQuery(this).data(el_name+"-operator"),secondOperent=jQuery(this).data(el_name+"-value");(secondOperent='"'+secondOperent+'"',"object"==typeof el_value)?(depend_el_common_class=jQuery(this),$.each(el_value,function(index,value){var condition;eval((firstOperent='"'+value+'"')+secondOperator+secondOperent)&&jQuery(depend_el_common_class).removeClass("d-none").show()})):eval(firstOperent+secondOperator+secondOperent)&&jQuery(this).removeClass("d-none").show()})}return!0}var handleSlider,handleSorterList,handleGroupedSection,handleBtnSet,handleBtnSetMulti,handleSelectImageContainer,handleTextEditor,handleSpinner,handleShadows,handleMainMenu,W3options=(handleSlider=function(){jQuery(".w3options-slider").length>0&&jQuery(".w3options-slider").on("input",function(){var e=jQuery(this).val();jQuery(this).parent(".form-group").find("span").html(e)})},handleSorterList=function(){if(jQuery(".sorter-list").length>0){function e(){$(".sorter-list").each(function(){var e=$(this).data("field-name");$(this).find("li").each(function(t,n){var i=$(n).closest("ul").data("id"),o=$(n).data("id"),a=$(n).find("input").val();$(n).find("input").attr("name",e+"["+i+"]["+o+"]").val(a)})})}$(".sorter-list").sortable({connectWith:".sorter-list",update:function(t,n){e()}}).disableSelection(),e()}},handleGroupedSection=function(){jQuery(".W3OptionsGroupedSection").length>0&&(addMoreGroupedSection(),addMoreGroupedSectionClick())},handleBtnSet=function(){jQuery(".theme-option-btn-set").length>0&&jQuery(".theme-option-btn-set .btn").on("click",function(){jQuery(this).parent(".theme-option-btn-set").find(".btn").removeClass("active"),jQuery(this).addClass("active")})},handleBtnSetMulti=function(){jQuery(".theme-option-btn-set-multi").length>0&&jQuery(".theme-option-btn-set-multi .btn").on("click",function(){jQuery(this).toggleClass("active")})},handleSelectImageContainer=function(){jQuery(".SelectImageContainer").length>0&&jQuery(".SelectImageContainer select").on("change",function(){var e=jQuery(this).val();jQuery(this).parents(".SelectImageContainer").find("img").attr("src",e)})},handleTextEditor=function(){if(jQuery(".ThemeOptionsEditor").length>0){let e={removePlugins:"cloudservices, easyimage, exportpdf",disallowedContent:"script; *[on*]",extraPlugins:"uploadimage,image",autoParagraph:!1,enterMode:CKEDITOR.ENTER_BR,fillEmptyBlocks:!1,clipboard_handleImages:!1,allowedContent:!0,extraAllowedContent:"*(*)",filebrowserUploadUrl:baseUrl+"/ckeditor/uploads?_token="+csrf_token,filebrowserUploadMethod:"form",toolbar:[{items:["Source","-","Image","SelectAll","TextColor","BGColor","Bold","Italic","Underline","Strike","Subscript","Superscript","-","Undo","Redo","-","Find","-","NumberedList","BulletedList","-","Outdent","Indent","-"]},{items:[,"BidiLtr","BidiRtl","Link","Unlink","Table","HorizontalRule","SpecialChar"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","Blockquote","CreateDiv"]},{name:"colors",items:[]},]};jQuery(".ThemeOptionsEditor").each(function(){CKEDITOR.replace($(this).attr("id"),e),jQuery('body[data-theme-version="dark"]').length>0&&CKEDITOR.addCss(".cke_editable { background-color: #000; color: #fff }")})}},handleSpinner=function(){jQuery(".ThemeOptionsSpinner").length>0&&$(".ThemeOptionsSpinner").each(function(){var e=[],t=$(this).data("min"),n=$(this).data("max"),i=$(this).data("step");null!=t&&(e.min=t),null!=n&&(e.max=n),null!=i&&(e.step=i),$(this).spinner(e)})},handleShadows=function(){jQuery(".inset-shadow,.drop-shadow").length>0&&($(".inset-shadow,.drop-shadow").each(function(){handleBoxShadow(this)}),$(".inset-shadow, .inset-shadow-color, .inset-shadow-horizontal, .inset-shadow-vertical, .inset-shadow-blur, .inset-shadow-spread,.drop-shadow, .drop-shadow-color, .drop-shadow-horizontal, .drop-shadow-vertical, .drop-shadow-blur, .drop-shadow-spread").on("change input",function(){handleBoxShadow(this)})),jQuery(".w3o-depend").off("keyup change").on("keyup change",function(){w3OptionsDependField(this)}),jQuery(".w3o-depend").each(function(){var e=jQuery(this).attr("name");e&&-1===e.indexOf("%KEY%")&&w3OptionsDependField(this)})},handleMainMenu=function(){jQuery(".ThemeOptionsMainMenu").length>0&&($(".ThemeOptionsMainMenu .nav-link").on("click",function(){jQuery(".nav-link").removeClass("active");var e=$(this).attr("href");$('.nav-link[href="'+e+'"]').tab("show")}),jQuery(".ThemeOptionsMainMenu li a").on("click",function(){jQuery(this).closest(".ThemeOptionsMainMenu > .nav-item").hasClass("active-section")||jQuery(".ThemeOptionsSubMenu").slideUp(),jQuery(".nav-item").removeClass("active-section"),jQuery(this).closest(".ThemeOptionsMainMenu > .nav-item").addClass("active-section"),jQuery(this).closest(".nav-item.has-subsection").find(".ThemeOptionsSubMenu").slideDown(),jQuery(this).closest(".nav-item.has-subsection").find("> a").addClass("active")}))},{init:function(){handleSlider(),handleSorterList(),handleGroupedSection(),handleBtnSet(),handleBtnSetMulti(),handleSelectImageContainer(),handleTextEditor(),handleSpinner(),handleShadows(),handleMainMenu()}});jQuery(document).ready(function(){W3options.init(),jQuery(document).ajaxComplete(function(){W3options.init()})})}(jQuery);